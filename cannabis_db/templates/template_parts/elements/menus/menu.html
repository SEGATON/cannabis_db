{% load static %}
{% load thumbnail %}
<div class="main-nav">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<ul class="main_menu float-start">
					<li><a href="{% url 'cannabis_db:front_page' %}"><img src="{% static 'imgs/strains_db_logo.png' %}" height="13" style="margin-top: -2px;"></a></li>
					<li><a href="{% url 'cannabis_db:front_page' %}" class="logo">STRAINS<b class="db_logo_style">DB</b></a></li>
	
					<li><a href="{% url 'cannabis_db:browse_strains' %}">Browse strains</a></li>
					<li><a href="{% url 'blog:front_page' %}">Blog</a></li>
					<li><a href="" class="" data-toggle="modal" data-target="#exampleModalCenter">
  Terpenes Profiles Chart
</a></li>
<li><a href="{% url 'cannabis_db:ai_tools' %}">AI Tools</a></li>
				</ul>

				<ul class="main_menu float-end">

				{% if user.is_authenticated %}
					<li><a href="{% url 'memberships:profile' %}"><img src="{% thumbnail user.profile.profile_photo 18x18 crop %}" class="img-fluid radius_sm">&nbsp;{{user.username}}</a></li>
					<li><a href="{% url 'account_logout' %}"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g class="logout-outline"><g fill="#1a6100" fill-rule="evenodd" class="Vector" clip-rule="evenodd"><path d="M3 7a5 5 0 0 1 5-5h5a1 1 0 1 1 0 2H8a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h5a1 1 0 1 1 0 2H8a5 5 0 0 1-5-5z"/><path d="M14.47 7.316a1 1 0 0 1 1.414-.046l4.8 4.5a1 1 0 0 1 0 1.46l-4.8 4.5a1 1 0 1 1-1.368-1.46l2.955-2.77H8a1 1 0 1 1 0-2h9.471l-2.955-2.77a1 1 0 0 1-.046-1.414"/></g></g></svg> logout</a></li>
				{% else %}
					<li><a href="{% url 'accounts:login' %}">login</a></li>
					<li><a href="{% url 'accounts:create_account' %}">create account</a></li>
					
				{% endif %}
<li></li>
<li>  


  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #ffffff;
      color: #000000;
    }

    body.dark-mode {
      background-color: #121212;
      color: #ffffff;
    }

    body.transition {
      transition: background-color 0.8s ease, color 0.8s ease;
    }

    #toggle-mode {
      padding: 10px 15px;
      font-size: 16px;
      margin: 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background-color: #f0f0f0;
      color: #000;
    }

    #toggle-mode.dark {
      background-color: #333;
      color: #fff;
    }

    #toggle-mode i {
      margin-right: 8px;
    }
  </style>


<button id="toggle-mode"><i class="fas fa-moon"></i> Dark Mode</button>
<script>
    const body = document.body;
    const toggleBtn = document.getElementById('toggle-mode');
    const icon = toggleBtn.querySelector('i');

    // Initialize mode on page load
    function applySavedMode() {
      const isDark = localStorage.getItem('darkMode') === 'true';
      if (isDark) {
        body.classList.add('dark-mode');
        toggleBtn.classList.add('dark');
        icon.className = 'fas fa-sun';
        toggleBtn.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
      } else {
        icon.className = 'fas fa-moon';
        toggleBtn.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
      }
    }

    // Toggle mode on button click
    toggleBtn.addEventListener('click', () => {
      const isDark = body.classList.toggle('dark-mode');
      body.classList.add('transition');
      localStorage.setItem('darkMode', isDark);

      if (isDark) {
        toggleBtn.classList.add('dark');
        toggleBtn.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
      } else {
        toggleBtn.classList.remove('dark');
        toggleBtn.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
      }

      setTimeout(() => {
        body.classList.remove('transition');
      }, 900);
    });

    applySavedMode();
  </script>

</li>

				</ul>
			</div>
		</div>
	</div>
</div>