{% extends 'template_parts/base.html' %}
{% load thumbnail %}
	{% block content %}


{% if dispensary.dispensary_cover %}
{{dispensary.dispensary_cover.url}}
{% endif %}


<div class="container">
<div class="row g-2">
	<div class="col-md-2">
		<div class="card no_border">
			<img src="{{  dispensary.dispensary_logo.url }}" class="img-fluid radius_md">
		</div>
		<br>
		<div class="card">
<b>Followers</b>
{% if dispensary.followers == true %}
	
	{% for follower in followers %}
		<img src="{% thumbnail follower.profile.profile_photo 30x30 crop %}">
		&nbsp;
		{{follower.username}}
	<hr>
	{% endfor %}
{% else %}
	<p>No followers yet</p>
{% endif %}
		</div>
		<div class="card">
			{% if dispensary in request.user.profile.saved_dispensaries.all %}
			<a href="{% url 'cannabis_db:follow_dispensary' dispensary.pk %}" class=""><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20"><path fill="#018223" d="M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4l-8 4z"/></svg> following</a>
			
			{% else %}
			<a href="{% url 'cannabis_db:follow_dispensary' dispensary.pk %}" class=""><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20"><path fill="#018223" d="M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4l-8 4zm2 0v15l6-3l6 3V2z"/></svg> follow</a>
		
			{% endif %}
		</div>


	</div>
	<div class="col-md-10">


<div class="card">
<h1 id="profile_heading">
	{{dispensary.title}} 
	{% if dispensary.claimed == True %}
		<svg xmlns="http://www.w3.org/2000/svg" width=".7em" height=".7em" viewBox="0 0 24 24"><path fill="#018223" d="m8.6 22.5l-1.9-3.2l-3.6-.8l.35-3.7L1 12l2.45-2.8l-.35-3.7l3.6-.8l1.9-3.2L12 2.95l3.4-1.45l1.9 3.2l3.6.8l-.35 3.7L23 12l-2.45 2.8l.35 3.7l-3.6.8l-1.9 3.2l-3.4-1.45zm2.35-6.95L16.6 9.9l-1.4-1.45l-4.25 4.25l-2.15-2.1L7.4 12z"/></svg>
	{% else %}
		<svg xmlns="http://www.w3.org/2000/svg" width=".7em" height=".7em" viewBox="0 0 24 24"><path fill="#0c6b00" d="m8.6 22.5l-1.9-3.2l-3.6-.8l.35-3.7L1 12l2.45-2.8l-.35-3.7l3.6-.8l1.9-3.2L12 2.95l3.4-1.45l1.9 3.2l3.6.8l-.35 3.7L23 12l-2.45 2.8l.35 3.7l-3.6.8l-1.9 3.2l-3.4-1.45zm.85-2.55l2.55-1.1l2.6 1.1l1.4-2.4l2.75-.65l-.25-2.8l1.85-2.1l-1.85-2.15l.25-2.8l-2.75-.6l-1.45-2.4L12 5.15l-2.6-1.1L8 6.45l-2.75.6l.25 2.8L3.65 12l1.85 2.1l-.25 2.85l2.75.6zm1.5-4.4L16.6 9.9l-1.4-1.45l-4.25 4.25l-2.15-2.1L7.4 12z"/></svg>							
	{% endif %}
	<a href="#" style="font-size: 12px; letter-spacing:0; font-weight:300;" id="trigger_claim_form_to_open" data-bs-target="#exampleModalToggleClaimForm" data-bs-toggle="modal">Claim dispensary</a>
</h1>





</div>







	<div class="card  p-0">
		{% if dispensary.tagline %}<h4 class="tagline">{{dispensary.tagline}}</h4>{% endif %}
	</div>

	<div class="card  p-0">
		{{dispensary.date_created}} | {{dispensary.date_updated}}
	</div>


<div class="card">
		<div class="row">
			<div class="col-md-4 border_right">
				<ul class="dispensary_details_list no_bullets">
					<li>
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 512 512">
							<path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="44" d="M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208s208-93.13 208-208S370.87 48 256 48Z" />
							<path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="44" d="M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48Z" />
							<path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="44" d="M117.33 121.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34m0 269.34c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34" />
							<path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="44" d="M256 48v416m208-208H48" />
						</svg>
						&nbsp;
						<a href="{{dispensary.websiteURL}}">{{dispensary.websiteURL}}</a>
					</li>
					<li>
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48">
							<defs>
								<mask id="ipSPhoneTwo0">
									<g fill="none">
										<path fill="#fff" stroke="#fff" stroke-width="4" d="M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z" />
										<path fill="#000" stroke="#000" stroke-linejoin="round" stroke-width="3.918" d="M19.44 14c.444 0 .854.241 1.07.63l1.496 2.695c.196.353.205.78.024 1.14L21 21s.252 2.252 2 4s4 2 4 2l2.527-1.038c.36-.18.788-.17 1.141.025l2.703 1.503c.388.216.629.625.629 1.07v3.103c0 1.58-1.468 2.721-2.965 2.216c-3.076-1.038-7.85-3.013-10.875-6.04c-3.026-3.025-5.001-7.798-6.039-10.874c-.505-1.497.636-2.965 2.216-2.965z" />
									</g>
								</mask>
							</defs>
							<path fill="#000" d="M0 0h48v48H0z" mask="url(#ipSPhoneTwo0)" />
						</svg>
						&nbsp;
						{{dispensary.phone_number}}
					</li>
					<li>
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20">
							<path fill="#000" d="M14.608 12.172c0 .84.239 1.175.864 1.175c1.393 0 2.28-1.775 2.28-4.727c0-4.512-3.288-6.672-7.393-6.672c-4.223 0-8.064 2.832-8.064 8.184c0 5.112 3.36 7.896 8.52 7.896c1.752 0 2.928-.192 4.727-.792l.386 1.607c-1.776.577-3.674.744-5.137.744c-6.768 0-10.393-3.72-10.393-9.456c0-5.784 4.201-9.72 9.985-9.72c6.024 0 9.215 3.6 9.215 8.016c0 3.744-1.175 6.6-4.871 6.6c-1.681 0-2.784-.672-2.928-2.161c-.432 1.656-1.584 2.161-3.145 2.161c-2.088 0-3.84-1.609-3.84-4.848c0-3.264 1.537-5.28 4.297-5.28c1.464 0 2.376.576 2.782 1.488l.697-1.272h2.016v7.057zm-2.951-3.168c0-1.319-.985-1.872-1.801-1.872c-.888 0-1.871.719-1.871 2.832c0 1.68.744 2.616 1.871 2.616c.792 0 1.801-.504 1.801-1.896z" />
						</svg>
						&nbsp;
						{{dispensary.email_address}}
					</li>
					<li>
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 256 256">
							<path fill="#000" d="m229.66 58.34l-32-32a8 8 0 0 0-11.32 0l-96 96A8 8 0 0 0 88 128v32a8 8 0 0 0 8 8h32a8 8 0 0 0 5.66-2.34l96-96a8 8 0 0 0 0-11.32M124.69 152H104v-20.69l64-64L188.69 88ZM200 76.69L179.31 56L192 43.31L212.69 64ZM224 128v80a16 16 0 0 1-16 16H48a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h80a8 8 0 0 1 0 16H48v160h160v-80a8 8 0 0 1 16 0" />
						</svg>
						&nbsp;
						{% for author in dispensary.author.all %}
							{{author}}
						{% endfor %}
					</li>
					
				</ul>
			</div>
			<div class="col-md-4 border_right">
				<ul class="dispensary_details_list">
					<li class="no_bullets"><b>Type of dispensary</b><br> {{dispensary.get_type_of_dispensary_display}}</li>
					<li class="no_bullets"><b>Shopping options</b><br> {{dispensary.get_shopping_options_display}}</li>
					<li class="no_bullets"><b>Payments accepted</b><br> {{dispensary.get_accepted_payment_methods_display}}</li>
					<li class="no_bullets"><b>Card types</b><br> {{dispensary.get_card_types_display}}</li>
					
				</ul>
			</div>
			<div class="col-md-4">
				<ul class="dispensary_details_list">
					<li class="no_bullets"><b>Locations</b><br></li>
					
					{% for address in dispensary.dispensary_address.all %}
					<li>

						{{address.address_type}}<br>
						{{address.address_street_name_line_1}}<br>
						{{address.address_street_name_line_2}}<br>
						{{address.address_city}}
						{{address.address_state}}
						{{address.address_zip_code}}
						{{address.address_country}}
					</li>
					{% endfor %}
					

				</ul>
			</div>
		</div>
	</div>
	{% if dispensary.dispensary_description %}
	<div class="card p-3">
		<b>About {{dispensary.title}}</b>
		<p class="p_md">{{dispensary.dispensary_description|safe}}</p>
	</div>
	{% endif %}

	<div class="card">
		<div class="row">
			<p>Products</p>
			{% for product in dispensary.products.all %}
				<div class="col-md-2">
					<div class="row">
						<div class="col-lg-12">
							{{product.featured_image.url}}
						</div>
						<div class="col-lg-12">
							{{product.title}}
						</div>
						<div class="col-lg-12">
							misc
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>




	<div class="card">
		<div class="row">
			<p>Strains you can find at <b>{{dispensary}}</b></p>
			{% for strain in dispensary.dispensary_strains.all %}
				<div class="col-md-2">
					<div class="row">
						<div class="col-lg-12">
							{{strain.featured_image.url}}
						</div>
						<div class="col-lg-12">
							{{strain.title}}
						</div>
						<div class="col-lg-12">
							misc
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>





<div class="card p-0">

	{% include 'commenting_system/dispensary_commenting_system.html' %}


</div>


</div>
</div>
</div>








<div class="container">
<div class="row">
	<div class="col-md-2">

	</div>
	<div class="col-md-10">


	</div>

</div>

</div>








<div class="container">
<div class="row">
	<div class="col-md-2">

		saved {{dispensary.saves.count}} time
	</div>
	<div class="col-md-10">


	</div>

</div>

</div>





<div class="container">
<div class="row">
	<div class="col-md-2">

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

<ul class="po float-end">



{% if user.is_authenticated %}

	{% if strain not  in request.user.profile.saved_strains.all %}
	<li class="float-end"><a href="" id="zazazoo"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 16 16"><path fill="#b00707" fill-rule="evenodd" d="M1.633 2.796c.762-.837 1.85-1.297 3.127-1.297c1.164 0 2.407.55 3.24 1.626c.828-1.075 2.066-1.626 3.24-1.626c1.274 0 2.36.458 3.124 1.293c.756.828 1.136 1.962 1.136 3.22c0 2.166-1.113 3.909-2.522 5.264c-1.405 1.352-3.17 2.383-4.633 3.14a.75.75 0 0 1-.693-.002c-1.463-.765-3.228-1.788-4.633-3.133C1.61 9.93.5 8.193.5 6.013c0-1.255.378-2.389 1.133-3.217m1.109 1.01C2.287 4.306 2 5.053 2 6.013c0 1.624.816 2.996 2.057 4.184c1.146 1.098 2.6 1.985 3.945 2.705c1.335-.71 2.79-1.604 3.937-2.707C13.182 8.998 14 7.62 14 6.013c0-.963-.288-1.71-.744-2.21C12.808 3.314 12.14 3 11.24 3c-.976 0-2.093.628-2.527 1.95a.75.75 0 0 1-1.426 0C6.854 3.63 5.725 3 4.76 3c-.903 0-1.57.315-2.018.807" clip-rule="evenodd"/></svg> </a></li>

	{% else %}
	<li class="float-end"><a href="" id="zazazoo"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 16 16"><path fill="#b00707" fill-rule="evenodd" d="M4.76 1.5c-1.278 0-2.365.459-3.127 1.296C.878 3.624.5 4.758.5 6.013c0 2.18 1.11 3.917 2.52 5.268c1.404 1.345 3.17 2.368 4.632 3.133a.75.75 0 0 0 .693.002c1.463-.757 3.228-1.788 4.633-3.14c1.41-1.355 2.522-3.098 2.522-5.263c0-1.26-.38-2.393-1.136-3.221c-.763-.835-1.85-1.293-3.124-1.293c-1.076 0-1.966.399-2.643 1.151A4.5 4.5 0 0 0 8 3.504a4.5 4.5 0 0 0-.597-.854C6.726 1.898 5.836 1.5 4.76 1.5" clip-rule="evenodd"/></svg> </a></li>
	{% endif %}


	{% else %}
	<li class="float-end"><a href="" id="zazazoo"><svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 16 16"><path fill="#b00707" fill-rule="evenodd" d="M1.633 2.796c.762-.837 1.85-1.297 3.127-1.297c1.164 0 2.407.55 3.24 1.626c.828-1.075 2.066-1.626 3.24-1.626c1.274 0 2.36.458 3.124 1.293c.756.828 1.136 1.962 1.136 3.22c0 2.166-1.113 3.909-2.522 5.264c-1.405 1.352-3.17 2.383-4.633 3.14a.75.75 0 0 1-.693-.002c-1.463-.765-3.228-1.788-4.633-3.133C1.61 9.93.5 8.193.5 6.013c0-1.255.378-2.389 1.133-3.217m1.109 1.01C2.287 4.306 2 5.053 2 6.013c0 1.624.816 2.996 2.057 4.184c1.146 1.098 2.6 1.985 3.945 2.705c1.335-.71 2.79-1.604 3.937-2.707C13.182 8.998 14 7.62 14 6.013c0-.963-.288-1.71-.744-2.21C12.808 3.314 12.14 3 11.24 3c-.976 0-2.093.628-2.527 1.95a.75.75 0 0 1-1.426 0C6.854 3.63 5.725 3 4.76 3c-.903 0-1.57.315-2.018.807" clip-rule="evenodd"/></svg> </a></li>
{% endif %}


<li style="float:right;"></li>

<!-- <li class="float-end"><a href="" id="zazazoo"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="#018223" d="M17 22q-1.25 0-2.125-.875T14 19q0-.15.075-.7L7.05 14.2q-.4.375-.925.588T5 15q-1.25 0-2.125-.875T2 12t.875-2.125T5 9q.6 0 1.125.213t.925.587l7.025-4.1q-.05-.175-.062-.337T14 5q0-1.25.875-2.125T17 2t2.125.875T20 5t-.875 2.125T17 8q-.6 0-1.125-.213T14.95 7.2l-7.025 4.1q.05.175.063.338T8 12t-.012.363t-.063.337l7.025 4.1q.4-.375.925-.587T17 16q1.25 0 2.125.875T20 19t-.875 2.125T17 22"/></svg> </a></li>-->
</ul>
<style type="text/css">
	.po{
		padding: 0;
		margin: 0;
		list-style: none;
	}
	.po li{
		display: inline;
	}
</style>

	</div>
	<div class="col-md-10">


	</div>

</div>

</div>









<div class="modal fade" id="exampleModalToggleClaimForm" aria-hidden="true" aria-labelledby="exampleModalToggleClaimForm" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">Modal 2</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
		<form action="" method="POST">
			<input style="text" name="" id="" class="form-control" placeholder="first name">
			<input style="text" name="" id="" class="form-control" placeholder="last name">
			<input style="text" name="" id="" class="form-control" placeholder="email address">
			<input style="text" name="" id="" class="form-control" placeholder="phone number">
			<input style="text" name="" id="" class="form-control" placeholder="dispensary license #:">
			<textarea name="details" class="form-control" id="" name="" placeholder="details"></textarea>
			<span class="" style="display: flex;">Request call back? &nbsp;<input type="checkbox" class="form-control" id="" name=""> </span>
			<button type="button" class="" id="claim_dispensary_btn">Claim dispensary</button>
		</form>
 
      </div>
      <div class="modal-footer">
     
      </div>
    </div>
  </div>
</div>




	{% endblock %}





